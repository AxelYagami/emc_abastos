import{j as e}from"./index-CWhwfVxk.js";import{a as y,g as N,j as v,n as w,h as I}from"./Icons-DW_7hi5M.js";function R({store:a,variant:t="default"}){var r;const s=a.enable_delivery;return a.enable_pickup,t==="compact"?e.jsxs("a",{href:a.store_url,className:"group card-premium flex items-center gap-4 p-4","data-testid":`store-card-compact-${a.id}`,children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center overflow-hidden flex-shrink-0 ring-2 ring-white shadow-soft group-hover:shadow-soft-lg transition-all",children:a.logo_url?e.jsx("img",{src:a.logo_url,alt:a.nombre,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx(y,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors truncate",children:a.nombre}),a.is_featured&&e.jsx(N,{className:"w-4 h-4 text-amber-400 flex-shrink-0"})]}),a.descripcion&&e.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:a.descripcion})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.jsx("span",{className:"p-1.5 bg-primary-50 rounded-lg",title:"Entrega a domicilio",children:e.jsx(v,{className:"w-4 h-4 text-primary-600"})}),e.jsx(w,{className:"w-5 h-5 text-gray-300 group-hover:text-primary-500 group-hover:translate-x-1 transition-all flex-shrink-0"})]})]}):e.jsxs("a",{href:a.store_url,className:"group card-premium overflow-hidden flex flex-col","data-testid":`store-card-${a.id}`,children:[e.jsxs("div",{className:"relative h-32 bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100",height:"100",fill:"url(#grid)"})]})}),a.is_featured&&e.jsxs("span",{className:"absolute top-3 right-3 badge badge-featured",children:[e.jsx(N,{className:"w-3 h-3"}),"Destacada"]}),e.jsx("div",{className:"absolute top-3 left-3 flex gap-1.5",children:s&&e.jsxs("span",{className:"badge glass text-gray-800",children:[e.jsx(v,{className:"w-3 h-3"}),"Envio"]})}),e.jsx("div",{className:"absolute -bottom-8 left-5",children:e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white shadow-soft-lg flex items-center justify-center overflow-hidden ring-4 ring-white",children:a.logo_url?e.jsx("img",{src:a.logo_url,alt:a.nombre,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx(y,{className:"w-7 h-7 text-primary-600"})})})]}),e.jsxs("div",{className:"p-5 pt-12 flex flex-col flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg group-hover:text-primary-600 transition-colors",children:a.nombre}),a.descripcion&&e.jsx("p",{className:"text-gray-500 text-sm mt-2 line-clamp-2 leading-relaxed flex-1",children:a.descripcion}),((r=a.tags)==null?void 0:r.length)>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-4",children:a.tags.slice(0,3).map(l=>e.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-lg",children:l},l))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("span",{className:"text-primary-600 font-semibold text-sm inline-flex items-center gap-1.5 btn-press",children:["Visitar tienda",e.jsx(w,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),a.hora_atencion_inicio&&a.hora_atencion_fin&&e.jsxs("span",{className:"text-xs text-gray-400",children:[a.hora_atencion_inicio," - ",a.hora_atencion_fin]})]})]})]})}function U({product:a,showPrice:t=!0,showStore:s=!0,index:r=0,featured:l=!1}){var n,o,c,m,d,x,h,g,f,p,u,j,b;const i=((n=a.store)==null?void 0:n.handle)||((o=a.empresa)==null?void 0:o.handle),_=((c=a.store)==null?void 0:c.store_url)||((m=a.empresa)==null?void 0:m.store_url)||"#",k=i?`/t/${i}?producto=${a.id}`:_;return e.jsxs("a",{href:k,className:`group card-premium overflow-hidden flex flex-col ${l?"animate-flash":""}`,style:{animationDelay:`${r*60}ms`},"data-testid":`product-card-${a.id}`,children:[e.jsxs("div",{className:"relative aspect-square bg-gray-50 overflow-hidden img-container",children:[e.jsx("img",{src:a.display_image||a.imagen_url||"/images/producto-default.svg",alt:a.nombre,className:"w-full h-full object-cover",loading:"lazy",onError:$=>{$.target.src="/images/producto-default.svg"}}),a.categoria&&e.jsx("span",{className:"absolute top-3 left-3 badge glass text-gray-800",children:a.categoria.nombre}),a.en_promocion&&e.jsx("span",{className:"absolute top-3 right-3 badge badge-promo",children:"Oferta"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 bg-white/95 backdrop-blur-sm text-gray-900 text-sm font-semibold rounded-full shadow-lg transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:["Ir a la tienda",e.jsx(I,{className:"w-3.5 h-3.5"})]})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[s&&(a.store||a.empresa)&&e.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-gray-100 overflow-hidden flex-shrink-0 ring-1 ring-gray-200",children:(d=a.store)!=null&&d.logo_url||(x=a.empresa)!=null&&x.logo_url?e.jsx("img",{src:((h=a.store)==null?void 0:h.logo_url)||((g=a.empresa)==null?void 0:g.logo_url),alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"w-full h-full flex items-center justify-center text-[10px] font-bold text-primary-600 bg-primary-50",children:(u=((f=a.store)==null?void 0:f.nombre)||((p=a.empresa)==null?void 0:p.nombre))==null?void 0:u[0]})}),e.jsx("span",{className:"text-xs text-gray-500 font-medium truncate",children:((j=a.store)==null?void 0:j.nombre)||((b=a.empresa)==null?void 0:b.nombre)})]}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2 leading-snug flex-1",children:a.nombre}),t&&a.precio!=null&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("p",{className:"text-xl font-bold text-primary-600",children:["$",parseFloat(a.precio).toFixed(2)]}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-primary-500 transition-colors",children:"Ver en tienda"})]})]})]})}export{U as P,R as S};
