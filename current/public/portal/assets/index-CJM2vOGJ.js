const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DefaultHeader-CFHSrjNP.js","assets/vendor-DhCY8yPv.js","assets/Icons-CLzVtqA-.js","assets/DefaultHome-CuxIDVeb.js","assets/ProductCard-C1jACFF0.js","assets/DefaultFooter-B2JtzzXT.js","assets/MarketHeader-Bje6Ul_c.js","assets/MarketHome-Ct3lFTzZ.js","assets/MarketFooter-BE8GAOsr.js"])))=>i.map(i=>d[i]);
import{r as i,a as $,R as O,b as y,c as T,B}from"./vendor-DhCY8yPv.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function c(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=c(s);fetch(s.href,l)}})();var R={exports:{}},N={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z=i,I=Symbol.for("react.element"),D=Symbol.for("react.fragment"),F=Object.prototype.hasOwnProperty,H=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function A(t,n,c){var o,s={},l=null,d=null;c!==void 0&&(l=""+c),n.key!==void 0&&(l=""+n.key),n.ref!==void 0&&(d=n.ref);for(o in n)F.call(n,o)&&!V.hasOwnProperty(o)&&(s[o]=n[o]);if(t&&t.defaultProps)for(o in n=t.defaultProps,n)s[o]===void 0&&(s[o]=n[o]);return{$$typeof:I,type:t,key:l,ref:d,props:s,_owner:H.current}}N.Fragment=D;N.jsx=A;N.jsxs=A;R.exports=N;var e=R.exports,k={},E=$;k.createRoot=E.createRoot,k.hydrateRoot=E.hydrateRoot;const q="modulepreload",W=function(t){return"/portal/"+t},L={},v=function(n,c,o){let s=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=Promise.allSettled(c.map(u=>{if(u=W(u),u in L)return;L[u]=!0;const h=u.endsWith(".css"),a=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${a}`))return;const r=document.createElement("link");if(r.rel=h?"stylesheet":q,h||(r.as="script"),r.crossOrigin="",r.href=u,m&&r.setAttribute("nonce",m),document.head.appendChild(r),h)return new Promise((p,f)=>{r.addEventListener("load",p),r.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return s.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return n().catch(l)})},w="/api";function U(){const[t,n]=i.useState(null),[c,o]=i.useState(!0);return i.useEffect(()=>{fetch(`${w}/public/portal-config`).then(s=>s.json()).then(s=>{s.success&&n(s.data)}).catch(console.error).finally(()=>o(!1))},[]),{config:t,loading:c}}function Q(){const[t,n]=i.useState([]),[c,o]=i.useState(!0);return i.useEffect(()=>{fetch(`${w}/public/stores`).then(s=>s.json()).then(s=>{s.success&&n(s.data)}).catch(console.error).finally(()=>o(!1))},[]),{stores:t,loading:c}}function J(){const[t,n]=i.useState([]),[c,o]=i.useState(!0);return i.useEffect(()=>{fetch(`${w}/public/promotions`).then(s=>s.json()).then(s=>{s.success&&n(s.data)}).catch(console.error).finally(()=>o(!1))},[]),{promotions:t,loading:c}}function le(){const[t,n]=i.useState({enabled:!1,products:[]}),[c,o]=i.useState(!0);return i.useEffect(()=>{fetch(`${w}/public/flyer`).then(s=>s.json()).then(s=>{s.success&&n(s.data)}).catch(console.error).finally(()=>o(!1))},[]),{flyer:t,loading:c}}function K({config:t}){var h;const{stores:n,loading:c}=Q(),[o,s]=i.useState(""),[l,d]=i.useState(""),m=[...new Set(n.flatMap(a=>a.tags||[]))],u=n.filter(a=>{var f,g;const r=!o||a.nombre.toLowerCase().includes(o.toLowerCase())||((f=a.descripcion)==null?void 0:f.toLowerCase().includes(o.toLowerCase())),p=!l||((g=a.tags)==null?void 0:g.includes(l));return r&&p});return c?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Directorio de tiendas"}),e.jsx("p",{className:"text-primary-100 text-lg",children:"Encuentra tu proveedor ideal en el mercado de abastos"})]})}),e.jsx("section",{className:"bg-white border-b sticky top-16 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Buscar tiendas...",value:o,onChange:a=>s(a.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),m.length>0&&e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>d(""),className:`px-3 py-1.5 rounded-full text-sm font-medium transition ${l?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-primary-600 text-white"}`,children:"Todas"}),m.map(a=>e.jsx("button",{onClick:()=>d(a),className:`px-3 py-1.5 rounded-full text-sm font-medium transition ${l===a?"bg-primary-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a},a))]})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron tiendas"}),e.jsx("p",{className:"text-gray-500",children:"Intenta con otros terminos de busqueda"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 mb-6",children:[u.length," tienda",u.length!==1?"s":""," disponible",u.length!==1?"s":""]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(a=>e.jsxs("a",{href:a.store_url,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden group border",children:[e.jsxs("div",{className:"relative h-32 bg-gradient-to-br from-primary-100 to-primary-200",children:[a.is_featured&&e.jsx("span",{className:"absolute top-3 right-3 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs font-bold rounded-full",children:"Destacada"}),e.jsx("div",{className:"absolute -bottom-8 left-4",children:e.jsx("div",{className:"w-16 h-16 rounded-xl bg-white shadow-md flex items-center justify-center overflow-hidden",children:a.logo_url?e.jsx("img",{src:a.logo_url,alt:a.nombre,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:a.nombre[0]})})})]}),e.jsxs("div",{className:"p-4 pt-12",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg group-hover:text-primary-600 transition",children:a.nombre}),a.descripcion&&e.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:a.descripcion}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:a.tags.slice(0,3).map(r=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:r},r))}),e.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[e.jsxs("span",{className:"text-primary-600 font-medium text-sm group-hover:translate-x-1 transition-transform inline-flex items-center",children:["Visitar tienda",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.producto_count>0&&e.jsxs("span",{className:"text-gray-400 text-sm",children:[a.producto_count," productos"]})]})]})]},a.id))})]})})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Quieres vender en la plataforma?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Si tienes un negocio en el mercado de abastos y quieres llegar a mas clientes, contactanos"}),((h=t==null?void 0:t.developer)==null?void 0:h.whatsapp)&&e.jsxs("a",{href:`https://wa.me/52${t.developer.whatsapp}?text=Hola, me interesa vender en la plataforma`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Contactar por WhatsApp"]})]})})]})}const S="/api";function Y({config:t}){const[n,c]=i.useState([]),[o,s]=i.useState(!0),[l,d]=i.useState(""),[m,u]=i.useState("");i.useEffect(()=>{fetch(`${S}/public/stores`).then(r=>r.json()).then(async r=>{if(r.success){const p=[];for(const f of r.data.slice(0,5))try{const b=await(await fetch(`${S}/public/stores/${f.handle}/products`)).json();b.success&&b.data.forEach(j=>{p.push({...j,store:f})})}catch(g){console.error("Error fetching products:",g)}c(p)}}).catch(console.error).finally(()=>s(!1))},[]);const h=[...new Set(n.map(r=>{var p;return(p=r.categoria)==null?void 0:p.nombre}).filter(Boolean))],a=n.filter(r=>{var g,b;const p=!l||r.nombre.toLowerCase().includes(l.toLowerCase())||((g=r.descripcion)==null?void 0:g.toLowerCase().includes(l.toLowerCase())),f=!m||((b=r.categoria)==null?void 0:b.nombre)===m;return p&&f});return o?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Catalogo de productos"}),e.jsx("p",{className:"text-primary-100 text-lg",children:"Productos frescos de todos nuestros proveedores"})]})}),e.jsx("section",{className:"bg-white border-b sticky top-16 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",value:l,onChange:r=>d(r.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500"})]}),h.length>0&&e.jsxs("select",{value:m,onChange:r=>u(r.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todas las categorias"}),h.map(r=>e.jsx("option",{value:r,children:r},r))]})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos"}),e.jsx("p",{className:"text-gray-500",children:"Intenta con otros terminos de busqueda"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 mb-6",children:[a.length," producto",a.length!==1?"s":""," disponible",a.length!==1?"s":""]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map((r,p)=>{var f;return e.jsxs("a",{href:`/t/${r.store.handle}/producto/${r.id}`,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden group border",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:r.display_image||r.imagen_url||"/images/producto-default.svg",alt:r.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition duration-300",loading:"lazy",onError:g=>{g.target.src="/images/producto-default.svg"}}),r.categoria&&e.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-white/90 text-gray-700 text-xs font-medium rounded-full",children:r.categoria.nombre})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("a",{href:r.store.store_url,className:"flex items-center gap-2 mb-2 text-sm text-gray-500 hover:text-primary-600",onClick:g=>g.stopPropagation(),children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 overflow-hidden flex-shrink-0",children:r.store.logo_url?e.jsx("img",{src:r.store.logo_url,alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-gray-400",children:r.store.nombre[0]})}),e.jsx("span",{className:"truncate",children:r.store.nombre})]}),e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-primary-600 transition line-clamp-2",children:r.nombre}),((f=t==null?void 0:t.settings)==null?void 0:f.show_prices)&&r.precio&&e.jsxs("p",{className:"text-xl font-bold text-primary-600 mt-2",children:["$",parseFloat(r.precio).toFixed(2)]})]})]},`${r.id}-${p}`)})})]})})})]})}function G({config:t}){var o;const{promotions:n,loading:c}=J();return c?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Promociones y ofertas"}),e.jsx("p",{className:"text-orange-100 text-lg",children:"Las mejores ofertas de nuestros proveedores"})]})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay promociones activas"}),e.jsx("p",{className:"text-gray-500",children:"Vuelve pronto para ver nuevas ofertas"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 mb-6",children:[n.length," promocion",n.length!==1?"es":""," activa",n.length!==1?"s":""]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>{var l,d,m;return e.jsxs("a",{href:s.target_url,className:"bg-white rounded-xl shadow-sm hover:shadow-xl transition overflow-hidden group border-2 border-orange-100 hover:border-orange-300",children:[e.jsxs("div",{className:"relative h-56 bg-gradient-to-br from-orange-50 to-red-50 overflow-hidden",children:[(s.hero_image||((l=s.producto)==null?void 0:l.imagen_url))&&e.jsx("img",{src:s.hero_image||((d=s.producto)==null?void 0:d.imagen_url),alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-300",loading:"lazy"}),e.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:s.badge_text&&e.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-sm font-bold rounded-full shadow-lg",children:s.badge_text})}),s.discount_percent&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white text-lg font-bold rounded-full shadow-lg",children:["-",s.discount_percent,"%"]})})]}),e.jsxs("div",{className:"p-5",children:[s.store&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 overflow-hidden flex-shrink-0",children:s.store.logo_url?e.jsx("img",{src:s.store.logo_url,alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-gray-400",children:s.store.nombre[0]})}),e.jsx("span",{className:"text-sm text-gray-500",children:s.store.nombre})]}),e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 group-hover:text-orange-600 transition",children:s.title}),s.description&&e.jsx("p",{className:"text-gray-500 text-sm mb-3 line-clamp-2",children:s.description}),((m=t==null?void 0:t.settings)==null?void 0:m.show_prices)&&s.promo_price&&e.jsxs("div",{className:"flex items-baseline gap-3 mt-3",children:[e.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",parseFloat(s.promo_price).toFixed(2)]}),s.original_price&&e.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["$",parseFloat(s.original_price).toFixed(2)]})]}),e.jsx("button",{className:"mt-4 w-full py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition group-hover:shadow-md",children:s.cta_text||"Ver oferta"})]})]},s.id)})})]})})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No te pierdas ninguna oferta"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Siguenos en redes sociales para enterarte de las mejores promociones"}),((o=t==null?void 0:t.developer)==null?void 0:o.whatsapp)&&e.jsxs("a",{href:`https://wa.me/52${t.developer.whatsapp}?text=Hola, quiero recibir ofertas`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Recibir ofertas por WhatsApp"]})]})})]})}function X({isOpen:t,onClose:n,config:c}){var g,b;const o=((g=c==null?void 0:c.settings)==null?void 0:g.ai_assistant_welcome)||`Hola! Soy tu asistente virtual del mercado de abastos. Puedo ayudarte a:

- Buscar productos
- Encontrar tiendas
- Explicar como comprar
- Resolver dudas

En que puedo ayudarte?`,s=((b=c==null?void 0:c.settings)==null?void 0:b.ai_assistant_title)||"Asistente IA",[l,d]=i.useState([{role:"assistant",content:o}]),[m,u]=i.useState(""),[h,a]=i.useState(!1),r=i.useRef(null);i.useEffect(()=>{var j;(j=r.current)==null||j.scrollIntoView({behavior:"smooth"})},[l]);const p=async j=>{if(j.preventDefault(),!m.trim()||h)return;const x=m.trim();u(""),d(_=>[..._,{role:"user",content:x}]),a(!0),setTimeout(()=>{const _=f(x);d(M=>[...M,{role:"assistant",content:_}]),a(!1)},1e3)},f=j=>{const x=j.toLowerCase();return x.includes("buscar")||x.includes("producto")||x.includes("encuentra")?`Para buscar productos, puedes:

1. Ir a la seccion "Productos" en el menu
2. Usar el buscador en cualquier tienda
3. Explorar por categorias

Que producto te gustaria encontrar?`:x.includes("tienda")||x.includes("proveedor")?`Tenemos varias tiendas disponibles en el directorio. Cada una ofrece productos frescos del mercado de abastos.

Visita la seccion "Tiendas" para ver el catalogo completo y elegir tu proveedor favorito.`:x.includes("comprar")||x.includes("pedir")||x.includes("ordenar")?`Para realizar una compra:

1. Elige una tienda del directorio
2. Agrega productos al carrito
3. Completa tus datos de contacto
4. Elige metodo de pago
5. Confirma tu pedido

El proveedor te contactara para coordinar la entrega!`:x.includes("pago")||x.includes("pagar")?`Metodos de pago disponibles:

- Efectivo al recoger
- Transferencia bancaria
- MercadoPago (tarjetas)

Cada tienda puede tener diferentes opciones habilitadas.`:x.includes("entrega")||x.includes("envio")||x.includes("domicilio")?`Las opciones de entrega varian por tienda:

- Recoger en tienda
- Entrega a domicilio
- Envio a negocio

Consulta las opciones disponibles al hacer tu pedido.`:x.includes("hola")||x.includes("buenos")||x.includes("que tal")?`Hola! Es un gusto ayudarte. Estoy aqui para resolver tus dudas sobre el mercado de abastos.

Que te gustaria saber?`:`Entiendo tu consulta. Para darte una mejor respuesta, te sugiero:

- Explorar las tiendas disponibles
- Revisar la seccion de productos
- Contactar directamente al proveedor

Hay algo mas en lo que pueda ayudarte?`};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black/50 animate-fade-in",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl flex flex-col max-h-[80vh] animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-primary-600 to-primary-700 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:s}),e.jsx("p",{className:"text-xs text-primary-100",children:"Siempre disponible"})]})]}),e.jsx("button",{onClick:n,className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map((j,x)=>e.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${j.role==="user"?"bg-primary-600 text-white rounded-br-md":"bg-gray-100 text-gray-800 rounded-bl-md"}`,children:e.jsx("p",{className:"text-sm whitespace-pre-line",children:j.content})})},x)),h&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-bl-md px-4 py-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),e.jsx("div",{ref:r})]}),e.jsxs("form",{onSubmit:p,className:"p-4 border-t bg-gray-50 rounded-b-2xl",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:j=>u(j.target.value),placeholder:"Escribe tu pregunta...",className:"flex-1 px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",disabled:h}),e.jsx("button",{type:"submit",disabled:!m.trim()||h,className:"px-4 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Asistente en modo demo - Proximamente con IA real"})]})]})}):null}const Z=i.lazy(()=>v(()=>import("./DefaultHeader-CFHSrjNP.js"),__vite__mapDeps([0,1,2]))),ee=i.lazy(()=>v(()=>import("./DefaultHome-CuxIDVeb.js"),__vite__mapDeps([3,1,4,2]))),se=i.lazy(()=>v(()=>import("./DefaultFooter-B2JtzzXT.js"),__vite__mapDeps([5,1,2]))),te=i.lazy(()=>v(()=>import("./MarketHeader-Bje6Ul_c.js"),__vite__mapDeps([6,1,2]))),re=i.lazy(()=>v(()=>import("./MarketHome-Ct3lFTzZ.js"),__vite__mapDeps([7,1,4,2]))),ae=i.lazy(()=>v(()=>import("./MarketFooter-BE8GAOsr.js"),__vite__mapDeps([8,1,2]))),C={default:{Header:Z,Home:ee,Footer:se},market_v2:{Header:te,Home:re,Footer:ae}};function P(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"Cargando..."})]})})}function ne(){var h,a;const{config:t,loading:n}=U(),[c,o]=i.useState(!1);if(n)return e.jsx(P,{});const s=(t==null?void 0:t.active_template)||"default",l=C[s]||C.default,{Header:d,Home:m,Footer:u}=l;return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"h-16 bg-white border-b animate-pulse"}),children:e.jsx(d,{config:t,onOpenAssistant:()=>o(!0)})}),e.jsx("main",{className:"flex-1",children:e.jsx(i.Suspense,{fallback:e.jsx(P,{}),children:e.jsxs(O,{children:[e.jsx(y,{path:"/",element:e.jsx(m,{config:t})}),e.jsx(y,{path:"/tiendas",element:e.jsx(K,{config:t})}),e.jsx(y,{path:"/productos",element:e.jsx(Y,{config:t})}),e.jsx(y,{path:"/promos",element:e.jsx(G,{config:t})})]})})}),e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"h-48 bg-gray-900 animate-pulse"}),children:e.jsx(u,{config:t})}),((h=t==null?void 0:t.settings)==null?void 0:h.ai_assistant_enabled)!==!1&&e.jsx(X,{isOpen:c,onClose:()=>o(!1),config:t}),((a=t==null?void 0:t.settings)==null?void 0:a.ai_assistant_enabled)!==!1&&!c&&e.jsx("button",{onClick:()=>o(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-all hover:scale-110 flex items-center justify-center z-40 lg:hidden btn-press","aria-label":"Abrir asistente","data-testid":"ai-assistant-fab",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})]})}k.createRoot(document.getElementById("root")).render(e.jsx(T.StrictMode,{children:e.jsx(B,{basename:"/portal",children:e.jsx(ne,{})})}));export{J as a,le as b,e as j,Q as u};
